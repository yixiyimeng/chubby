{"version":3,"sources":["webpack:///E:/程序/小D/chubby/main.js","webpack:///E:/程序/小D/chubby/pages/main/train.vue?d22c","webpack:///E:/程序/小D/chubby/pages/main/train.vue?fca1","webpack:///E:/程序/小D/chubby/pages/main/train.vue?2b04","webpack:///E:/程序/小D/chubby/pages/main/train.vue?e8ae","webpack:///E:/程序/小D/chubby/pages/main/train.vue","webpack:///E:/程序/小D/chubby/pages/main/train.vue?2b0d","webpack:///E:/程序/小D/chubby/pages/main/train.vue?a030"],"names":["createPage","Page","computed","data","close","option","mp3s","mp3","title","onOff","bofang","dataUrl","innerAudioContext","datatitle","devices","discoveryStarted","connected","chs","deviceId","serviceId","characteristicId","name","canWrite","num","countTime","beginTime","sjTime","fsTime","count","count1","count2","nowTime","H","X","fs","timer","ffnum","xxnum","xxTime","onLoad","uni","request","url","method","success","res","code","row","rows","i","length","console","info","type","setting","sjtime","fstime","parseInt","h","x","log","linkBluetooth","methods","cxcs","closedom","stopdl","inArray","arr","key","val","ab2hex","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","boFang","pause","play","begindl","createInnerAudioContext","autoplay","src","onPlay","onError","errMsg","errCode","ztdl","getsetting","getscore","userphone","baocun","score","openBluetoothAdapter","clearInterval","writeBLECharacteristicValue3","reLaunch","writeBLECharacteristicValue","setInterval","writeBLECharacteristicValue2","time1","time2","time3","time4","countNum","jcf","endf","Math","round","user","service","getUsers","account","that","getBluetoothAdapterState","res1","startBluetoothDevicesDiscovery","fail","error","showToast","icon","duration","onBluetoothAdapterStateChange","available","allowDuplicatesKey","onBluetoothDeviceFound","stopBluetoothDevicesDiscovery","wx","forEach","device","foundDevices","idx","push","createBLEConnection","ds","localName","getBLEDeviceServices","onfff","onNo","conn","closeBLEConnection","services","isPrimary","getBLEDeviceCharacteristics","uuid","characteristics","item","properties","read","readBLECharacteristicValue","write","notify","indicate","notifyBLECharacteristicValueChange","state","onBLECharacteristicValueChange","characteristic","value","hexStringToArrayBuffer","err","closeBluetoothAdapter","str","ArrayBuffer","dataView","DataView","ind","len","substr","setUint8"],"mappings":"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","file":"pages/main/train.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/main/train.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./train.vue?vue&type=template&id=74f7acd4&\"\nimport script from \"./train.vue?vue&type=script&lang=js&\"\nexport * from \"./train.vue?vue&type=script&lang=js&\"\nimport style0 from \"./train.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\软件\\\\HBuilderX.2.4.2.20191115\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('74f7acd4', component.options)\n    } else {\n      api.reload('74f7acd4', component.options)\n    }\n    module.hot.accept(\"./train.vue?vue&type=template&id=74f7acd4&\", function () {\n      api.rerender('74f7acd4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"程序/小D/chubby/pages/main/train.vue\"\nexport default component.exports","export * from \"-!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=template&id=74f7acd4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tmapState\n} from 'vuex';\nimport service from '../../service.js';\nexport default {\n\tcomputed: mapState(['forcedLogin', 'hasLogin', 'userName']),\n\tdata() {\n\t\treturn {\n\t\t\tclose: false,\n\t\t\toption: {},\n\t\t\tmp3s: [\n\t\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/zj_fa1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T031957Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=27af2b18f8225e9cde25cccd6a859c53c7dead7552b8a46b5257f6c73e82f4af',\n\t\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/cj_fa.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T032014Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=601863903bc2552de202b7e4a99bc751544ce8b00c07a7aeb09fb35829c16f82',\n\t\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/zj_fa2_2.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T031927Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=9c2b7158d36a7111c4990a7ac85d6a6b286a742b3c3d2f75b7addb8e9b942e58',\n\t\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/gj_fa1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T032040Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=c812c3ba8f9d3554cee5a2a494c7d9d4ddf97a9cf7ccd800fbb9a5fe99584dc2',\n\t\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/gj_fa2_2.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T032029Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=fae231ca5bd440dd8fa83e2fe2bb96d1c45c48a065dd92cc86df845ed4772563'\n\t\t\t],\n\t\t\tmp3: '',\n\t\t\ttitle: ['初级训练', '中级训练一', '中级训练二', '高级训练一', '高级训练二'],\n\t\t\tonOff: ['../../static/img2/bofang2.png', '../../static/img2/bofang1.png'],\n\t\t\tbofang: false,\n\t\t\tdataUrl: 'http://212.129.131.163:9000/temp-bucket/audio/zj_fa1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T031957Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=27af2b18f8225e9cde25cccd6a859c53c7dead7552b8a46b5257f6c73e82f4af',\n\t\t\tinnerAudioContext: null,\n\t\t\tdatatitle: '',\n\n\t\t\tdevices: [],\n\t\t\tdiscoveryStarted: false,\n\t\t\tconnected: false,\n\t\t\tchs: [],\n\t\t\tdeviceId: \"\",\n\t\t\tserviceId: \"\",\n\t\t\tcharacteristicId: \"\",\n\t\t\tname: \"\",\n\t\t\tcanWrite: false,\n\t\t\tnum: 0,\n\n\t\t\tcountTime: 120,\n\t\t\tbeginTime: 15,\n\t\t\tsjTime: 10,\n\t\t\tfsTime: 10,\n\t\t\tcount: 1,\n\t\t\tcount1: 0,\n\t\t\tcount2: 0,\n\t\t\tnowTime: 0,\n\t\t\tH: 150,\n\t\t\tX: 2,\n\t\t\tfs: 0,\n\t\t\ttimer: '',\n\t\t\tffnum: 0,\n\t\t\txxnum: 0,\n\t\t\txxTime: 0,\n\t\t};\n\t},\n\tonLoad(option) {\n\t\tuni.request({\n\t\t\turl: 'http://10.0.0.22:8080/system/setting/getSetting/list',\n\t\t\tmethod: 'GET',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.data.code == 200) {\n\t\t\t\t\tvar row = res.data.rows;\n\t\t\t\t\tfor (var i = 0; i < row.length; i++) {\n\t\t\t\t\t\tconsole.info(this.title[option.type] + \"___\" + row[i].setting)\n\t\t\t\t\t\tif (this.title[option.type] == row[i].setting) {\n\t\t\t\t\t\t\tthis.countTime = 20;\n\t\t\t\t\t\t\tthis.sjTime = row[i].sjtime;\n\t\t\t\t\t\t\tthis.fsTime = row[i].fstime;\n\t\t\t\t\t\t\tthis.H = parseInt(row[i].h);\n\t\t\t\t\t\t\tthis.X = parseInt(row[i].x);\n\t\t\t\t\t\t\tthis.xxnum = row[i].xxnum;\n\t\t\t\t\t\t\tthis.ffnum = row[i].ffnum;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(this.H + \"____\" + this.X);\n\t\t\t}\n\t\t});\n\t\tthis.option = option;\n\t\tthis.dataUrl = this.mp3s[option.type];\n\t\tthis.datatitle = this.title[option.type];\n\t\tconsole.info(option);\n\t\tthis.linkBluetooth();\n\t\tconsole.info(this.dataUrl)\n\n\t\t//if (!this.hasLogin) {\n\t\tif (false) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '未登录',\n\t\t\t\tcontent: '您未登录，需要登录后才能继续',\n\t\t\t\t/**\n\t\t\t\t * 如果需要强制登录，不显示取消按钮\n\t\t\t\t */\n\t\t\t\tshowCancel: !this.forcedLogin,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * 如果需要强制登录，使用reLaunch方式\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (this.forcedLogin) {\n\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\turl: '../login/login'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\turl: '../login/login'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tcxcs() {\n\t\t\tthis.close = false;\n\n\t\t},\n\t\tclosedom() {\n\t\t\tthis.stopdl();\n\t\t},\n\n\t\tinArray(arr, key, val) {\n\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr[i][key] === val) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\t\tab2hex(buffer) {\n\t\t\tvar hexArr = Array.prototype.map.call(\n\t\t\t\tnew Uint8Array(buffer),\n\t\t\t\tfunction(bit) {\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn hexArr.join('');\n\t\t},\n\t\tboFang() {\n\t\t\tif (this.bofang) {\n\t\t\t\tthis.pause();\n\t\t\t\tthis.bofang = false\n\t\t\t} else {\n\t\t\t\tthis.play();\n\t\t\t\tthis.bofang = true\n\t\t\t}\n\t\t\tthis.begindl();\n\t\t},\n\t\tplay: function(res) {\n\t\t\tconsole.log('bofang')\n\t\t\tif (!this.innerAudioContext) {\n\t\t\t\tthis.innerAudioContext = uni.createInnerAudioContext();\n\t\t\t\tthis.innerAudioContext.autoplay = true;\n\t\t\t\tthis.innerAudioContext.src = this.dataUrl;\n\t\t\t\tthis.innerAudioContext.onPlay(() => {\n\t\t\t\t\tconsole.log('开始播放');\n\t\t\t\t});\n\t\t\t\tthis.innerAudioContext.onError((res) => {\n\t\t\t\t\tconsole.log(res.errMsg);\n\t\t\t\t\tconsole.log(res.errCode);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.begindl();\n\t\t\t\tthis.innerAudioContext.play()\n\t\t\t}\n\t\t},\n\t\tpause: function() {\n\t\t\tif (this.innerAudioContext) {\n\t\t\t\tthis.innerAudioContext.pause();\n\t\t\t\tthis.ztdl();\n\t\t\t}\n\t\t},\n\n\t\tgetsetting() {\n\t\t\tuni.request({\n\t\t\t\turl: 'http://10.0.0.22:8080/system/setting/getSetting/list',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tgetscore() {\n\t\t\tuni.request({\n\t\t\t\turl: 'http://10.0.0.22:8080/system/score/uniApp/getlist',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdata: {\n\t\t\t\t\tuserphone: \"15951920943\"\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tbaocun() {\n\t\t\tuni.request({\n\t\t\t\turl: 'http://10.0.0.22:8080/system/score/uniApp/addScore',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\tuserphone: \"15951920943\",\n\t\t\t\t\tscore: \"80\",\n\t\t\t\t\ttype: \"中级训练一\"\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tlinkBluetooth() {\n\t\t\tthis.openBluetoothAdapter();\n\t\t\tconsole.info(this.devices);\n\n\t\t},\n\t\tztdl() {\n\t\t\tif (this.timer) {\n\t\t\t\tclearInterval(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t\tthis.writeBLECharacteristicValue3();\n\t\t\t}\n\n\n\t\t},\n\t\tstopdl() {\n\t\t\tif (this.timer) {\n\t\t\t\tclearInterval(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t\tthis.count = 1;\n\t\t\t\tthis.count1 = 0;\n\t\t\t\tthis.count2 = 0;\n\t\t\t\tthis.nowTime = 0;\n\t\t\t\tthis.fs = 0;\n\t\t\t\tthis.pause();\n\t\t\t\tthis.writeBLECharacteristicValue3();\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl: '../main/main'\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t},\n\t\tbegindl() {\n\t\t\tthis.writeBLECharacteristicValue();\n\n\t\t\tthis.timer = setInterval(() => {\n\t\t\t\tthis.nowTime = this.nowTime + 1;\n\t\t\t\tif (this.nowTime < this.beginTime) {\n\t\t\t\t\tthis.writeBLECharacteristicValue2();\n\t\t\t\t\tthis.fs = 0;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.info(\"count1:\" + this.count1 + \" ____ffnum:\" + this.ffnum);\n\t\t\t\t\tconsole.info(this.count1 > 0 && this.count1 % this.ffnum == 0 % this.ffnum > 0);\n\t\t\t\t\tif (this.count1 > 0 && this.count1 % this.ffnum == 0) {\n\t\t\t\t\t\tthis.xxTime = this.xxTime + 1;\n\t\t\t\t\t\tif (this.xxTime > 0 && this.xxTime % this.xxnum == 0) {\n\t\t\t\t\t\t\tthis.count1 = 0;\n\t\t\t\t\t\t\tthis.xxTime = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.count1 = this.count - 1;\n\t\t\t\t\t\tlet time1 = (this.sjTime + this.fsTime) * this.count1;\n\t\t\t\t\t\tlet time2 = (this.sjTime + this.fsTime) * this.count;\n\t\t\t\t\t\tlet time3 = this.beginTime + time2;\n\t\t\t\t\t\tlet time4 = this.beginTime + time1;\n\t\t\t\t\t\tconsole.info(\"this.nowTime\" + this.nowTime + \"____time3\" + time3 + \"_____time4\" + time4)\n\t\t\t\t\t\tif (this.nowTime < time3 && this.nowTime > time4) {\n\t\t\t\t\t\t\tconsole.info(\"this.num >this.H\")\n\t\t\t\t\t\t\tconsole.info(this.num > this.H);\n\t\t\t\t\t\t\tif (this.num > this.H) {\n\t\t\t\t\t\t\t\tconsole.info(\"this.nowTime < time4 + this.X\")\n\t\t\t\t\t\t\t\tconsole.info(this.nowTime < time4 + this.X);\n\t\t\t\t\t\t\t\tif (this.nowTime < time4 + this.X) {\n\t\t\t\t\t\t\t\t\tconsole.info(\"this.count > this.count2\")\n\t\t\t\t\t\t\t\t\tconsole.info(this.count > this.count2);\n\t\t\t\t\t\t\t\t\tif (this.count > this.count2) {\n\t\t\t\t\t\t\t\t\t\tthis.fs = this.fs + 1;\n\t\t\t\t\t\t\t\t\t\tthis.count2 = this.count2 + this.count;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (this.count > this.count2) {\n\t\t\t\t\t\t\t\t\t\tthis.fs = this.fs + 0.5;\n\t\t\t\t\t\t\t\t\t\tthis.count2 = this.count2 + this.count;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.nowTime == time3) {\n\t\t\t\t\t\t\t\tthis.count = this.count + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.count2 = 0;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (this.nowTime == this.countTime) {\n\t\t\t\t\tlet countNum = this.count;\n\t\t\t\t\tlet jcf = this.fs / countNum;\n\t\t\t\t\tlet endf = jcf * 100;\n\t\t\t\t\tthis.fs = Math.round(endf);\n\t\t\t\t\t/* uni.showToast({\n\t\t\t\t\t    title: \"最后得分：\"+realVal,\n\t\t\t\t\t    icon: 'none',\n\t\t\t\t\t    duration: 2000//提示的延迟时间，单位毫秒，默认：1500\n\t\t\t\t\t}); */\n\t\t\t\t\tconsole.info(this.fs);\n\t\t\t\t\tthis.close = true;\n\t\t\t\t\tconst user = service.getUsers();\n\t\t\t\t\tconsole.info(service.getUsers());\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: 'http://10.0.0.22:8080/system/score/uniApp/addScore',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tuserphone: user[user.length - 1].account,\n\t\t\t\t\t\t\tscore: this.fs,\n\t\t\t\t\t\t\ttype: this.datatitle\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\n\t\t\t\t\tif (this.timer) {\n\t\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t\t\tthis.timer = null;\n\t\t\t\t\t\tthis.count = 1;\n\t\t\t\t\t\tthis.count1 = 0;\n\t\t\t\t\t\tthis.count2 = 0;\n\t\t\t\t\t\tthis.nowTime = 0;\n\t\t\t\t\t}\n\t\t\t\t\tthis.writeBLECharacteristicValue3();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}, // 初始化蓝牙模块\n\t\topenBluetoothAdapter() {\n\t\t\tlet that = this;\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\t//获取本机蓝牙适配器状态\n\t\t\t\t\tuni.getBluetoothAdapterState({ //蓝牙的匹配状态\n\t\t\t\t\t\tsuccess(res1) {\n\t\t\t\t\t\t\tconsole.log(res1, \"本机设备的的蓝牙已打开\")\n\t\t\t\t\t\t\tthat.startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(error) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\ttitle: \"查看手机蓝牙是否打开\",\n\t\t\t\t\t\t\t\tduration: 3000 //提示的延迟时间，单位毫秒，默认：1500\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\ttitle: \"查看手机蓝牙是否打开\",\n\t\t\t\t\t\t\tduration: 3000 //提示的延迟时间，单位毫秒，默认：1500\n\t\t\t\t\t\t});\n\t\t\t\t\t\t//监听蓝牙适配器状态变化事件\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange(function(res) {\n\t\t\t\t\t\t\tconsole.log('onBluetoothAdapterStateChange', res)\n\t\t\t\t\t\t\tif (res.available) { //手机蓝牙已经打开\n\t\t\t\t\t\t\t\tthat.startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 开始搜寻附近的蓝牙外围设备。此操作比较耗费系统资源，请在搜索并连接到设备后调用 wx.stopBluetoothDevicesDiscovery 方法停止搜\n\t\tstartBluetoothDevicesDiscovery() {\n\t\t\tif (this.discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tallowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t//停止搜寻附近的蓝牙外围设备。若已经找到需要的蓝牙设备并不需要继续搜索时，建议调用该接口停止蓝牙搜索\n\t\tstopBluetoothDevicesDiscovery() {\n\t\t\twx.stopBluetoothDevicesDiscovery()\n\t\t},\n\t\t// 监听寻找到新设备的事件\n\t\tonBluetoothDeviceFound() {\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tconsole.log(res, \"onBluetoothDeviceFound\")\n\t\t\t\tres.devices.forEach(device => {\n\t\t\t\t\tif (!device.name) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (device.name == 'JDY-23') {\n\t\t\t\t\t\tconst foundDevices = this.devices\n\t\t\t\t\t\tconst idx = this.inArray(foundDevices, 'deviceId', device.deviceId)\n\t\t\t\t\t\tconsole.log(idx, \"idx\");\n\t\t\t\t\t\tconst data = {}\n\t\t\t\t\t\tif (idx === -1) {\n\t\t\t\t\t\t\tthis.devices.push(device);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.devices[idx] = device\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log(this.devices, \"idx\");\n\t\t\t\t\t\tthis.createBLEConnection(device);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 连接低功耗蓝牙设备。deviceId用于区分设备的 id\n\t\tcreateBLEConnection(ds) {\n\t\t\tconst deviceId = ds.deviceId\n\t\t\tconst name = ds.name || ds.localName;\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId: deviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.connected = true;\n\t\t\t\t\tthis.name = name;\n\t\t\t\t\tthis.deviceId = deviceId;\n\t\t\t\t\tthis.getBLEDeviceServices(deviceId);\n\t\t\t\t\tthis.onfff = false;\n\t\t\t\t\tthis.onNo = true;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"连接\" + this.name + \"成功\",\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000 //提示的延迟时间，单位毫秒，默认：1500\n\t\t\t\t\t});\n\t\t\t\t\tthis.conn = true;\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.stopBluetoothDevicesDiscovery()\n\t\t},\n\t\t// 断开与低功耗蓝牙设备的连接。 deviceId用于区分设备的 id\n\t\tcloseBLEConnection() {\n\t\t\tuni.closeBLEConnection({\n\t\t\t\tdeviceId: this.deviceId\n\t\t\t})\n\t\t\tthis.connected = false;\n\t\t\tthis.chs = [];\n\t\t\tthis.canWrite = false;\n\t\t},\n\t\t//获取蓝牙设备所有服务(service)。 deviceId蓝牙设备 id\n\t\tgetBLEDeviceServices(deviceId) {\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tif (res.services[i].isPrimary) {\n\t\t\t\t\t\t\tthis.getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//获取蓝牙设备某个服务中所有特征值(characteristic)\n\t\tgetBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('getBLEDeviceCharacteristics success', res.characteristics)\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tif (item.properties.read) {\n\t\t\t\t\t\t\tuni.readBLECharacteristicValue({ //读取低功耗蓝牙设备的特征值的二进制数据值\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.properties.write) { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\n\t\t\t\t\t\t\tthis.canWrite = true;\n\t\t\t\t\t\t\tthis.deviceId = deviceId;\n\t\t\t\t\t\t\tthis.serviceId = serviceId;\n\t\t\t\t\t\t\tthis.characteristicId = item.uuid;\n\t\t\t\t\t\t\tthis.writeBLECharacteristicValue();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (item.properties.notify || item.properties.indicate) {\n\t\t\t\t\t\t\tconsole.info(\"启用低功耗蓝牙设备特征值变化时的 notify 功能s\")\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({ //启用低功耗蓝牙设备特征值变化时的 notify 功能，订阅特征值。注意：必须设备的特征值支持 notify 或者 indicate 才可以成功调用。\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t\t\t// console.log(this.characteristicId)\n\t\t\t\t\t\t\t\t\tconsole.log('notifyBLECharacteristicValueChange success', res.errMsg)\n\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail: (res) => {\n\t\t\t\t\t\t\t\t\tconsole.log('notifyBLECharacteristicValueChange success2', res.errMsg)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 操作之前先监听，保证第一时间获取数据\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet value = characteristic.value;\n\t\t\t\tconst buffer = new Uint8Array(value)\n\t\t\t\tconst num = buffer[3] * 100 + buffer[4];\n\t\t\t\tthis.num = num;\n\t\t\t\tconst idx = this.inArray(this.chs, 'uuid', characteristic.characteristicId)\n\t\t\t\tconst data = {}\n\t\t\t\tif (idx === -1) {\n\t\t\t\t\tthis.chs.push({\n\t\t\t\t\t\tuuid: characteristic.characteristicId,\n\t\t\t\t\t\tvalue: this.ab2hex(characteristic.value)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.chs[idx] = {\n\t\t\t\t\t\tuuid: characteristic.characteristicId,\n\t\t\t\t\t\tvalue: this.ab2hex(characteristic.value)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\twriteBLECharacteristicValue() { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\n\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\n\t\t\t// let buffer =this.hexStringToArrayBuffer(\"AAAA20201015555\");\n\t\t\tlet buffer = this.hexStringToArrayBuffer(\"457a000100467b\");\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tserviceId: this.serviceId,\n\t\t\t\tcharacteristicId: this.characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('writeBLECharacteristicValue success', res)\n\t\t\t\t},\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tconsole.log(err, \"errerrerrerrerr\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\twriteBLECharacteristicValue2() { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\n\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\n\t\t\t// let buffer =this.hexStringToArrayBuffer(\"AAAA20201015555\");\n\t\t\tlet buffer = this.hexStringToArrayBuffer(\"457a010100467b\");\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tserviceId: this.serviceId,\n\t\t\t\tcharacteristicId: this.characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('writeBLECharacteristicValue success', res)\n\t\t\t\t},\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tconsole.log(err, \"errerrerrerrerr\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\twriteBLECharacteristicValue3() { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\n\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\n\t\t\t// let buffer =this.hexStringToArrayBuffer(\"AAAA20201015555\");\n\t\t\tlet buffer = this.hexStringToArrayBuffer(\"457a030100467b\");\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tserviceId: this.serviceId,\n\t\t\t\tcharacteristicId: this.characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tconsole.log('writeBLECharacteristicValue success', res)\n\t\t\t\t},\n\t\t\t\tfail: function(err) {\n\t\t\t\t\tconsole.log(err, \"errerrerrerrerr\")\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tcloseBluetoothAdapter() {\n\t\t\tuni.closeBluetoothAdapter()\n\t\t\tthis.discoveryStarted = false\n\t\t},\n\t\t//向蓝牙设备发送一个0x00的16进制数据\n\t\thexStringToArrayBuffer(str) {\n\t\t\tif (!str) {\n\t\t\t\treturn new ArrayBuffer(0);\n\t\t\t}\n\t\t\tvar buffer = new ArrayBuffer(str.length);\n\t\t\tlet dataView = new DataView(buffer)\n\t\t\tlet ind = 0;\n\t\t\tfor (var i = 0, len = str.length; i < len; i += 2) {\n\t\t\t\tlet code = parseInt(str.substr(i, 2), 16)\n\t\t\t\tdataView.setUint8(ind, code)\n\t\t\t\tind++\n\t\t\t}\n\t\t\treturn buffer;\n\t\t}\n\n\n\t},\n};\n","import mod from \"-!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../软件/HBuilderX.2.4.2.20191115/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}