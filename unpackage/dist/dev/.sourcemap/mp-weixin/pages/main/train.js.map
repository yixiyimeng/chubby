{"version":3,"sources":["webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue?5a0e","webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue?4809","webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue?919e","webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue?1fb0","webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue","webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue?890f","webpack:///D:/Users/zkxl/Downloads/chubby/pages/main/train.vue?f015"],"names":["computed","data","close","option","mp3s","mp3","title","onOff","bofang","dataUrl","innerAudioContext","datatitle","devices","discoveryStarted","connected","chs","deviceId","serviceId","characteristicId","name","canWrite","num","countTime","beginTime","sjTime","fsTime","count","count1","count2","nowTime","H","X","fs","timer","ffnum","xxnum","xxTime","onLoad","uni","request","url","method","success","res","code","row","rows","i","length","console","info","type","setting","sjtime","fstime","parseInt","h","x","log","linkBluetooth","methods","cxcs","closedom","stopdl","inArray","arr","key","val","ab2hex","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","boFang","pause","play","begindl","createInnerAudioContext","autoplay","src","onPlay","onError","errMsg","errCode","ztdl","getsetting","getscore","userphone","baocun","score","openBluetoothAdapter","clearInterval","writeBLECharacteristicValue3","reLaunch","writeBLECharacteristicValue","setInterval","writeBLECharacteristicValue2","time1","time2","time3","time4","countNum","jcf","endf","Math","round","user","service","getUsers","account","that","getBluetoothAdapterState","res1","startBluetoothDevicesDiscovery","fail","error","showToast","icon","duration","onBluetoothAdapterStateChange","available","allowDuplicatesKey","onBluetoothDeviceFound","stopBluetoothDevicesDiscovery","wx","forEach","device","foundDevices","idx","push","createBLEConnection","ds","localName","getBLEDeviceServices","onfff","onNo","conn","closeBLEConnection","services","isPrimary","getBLEDeviceCharacteristics","uuid","characteristics","item","properties","read","readBLECharacteristicValue","write","notify","indicate","notifyBLECharacteristicValueChange","state","onBLECharacteristicValueChange","characteristic","value","hexStringToArrayBuffer","err","closeBluetoothAdapter","str","ArrayBuffer","dataView","DataView","ind","len","substr","setUint8"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACa;;;AAGjE;AACmI;AACnI,gBAAgB,wIAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA0lB,CAAgB,0kBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiD9mB;AACA,uF,8FAlDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAIe,EACdA,QAAQ,EAAE,oBAAS,CAAC,aAAD,EAAgB,UAAhB,EAA4B,UAA5B,CAAT,CADI,EAEdC,IAFc,kBAEP,CACN,OAAO,EACNC,KAAK,EAAE,KADD,EAENC,MAAM,EAAE,EAFF,EAGNC,IAAI,EAAE,CAAC,kTAAD,EACN,iTADM,EAEN,oTAFM,EAGN,kTAHM,EAIN,oTAJM,CAHA,EAQNC,GAAG,EAAE,EARC,EASNC,KAAK,EAAC,CAAC,MAAD,EAAQ,OAAR,EAAgB,OAAhB,EAAwB,OAAxB,EAAgC,OAAhC,CATA,EAUNC,KAAK,EAAE,CAAC,+BAAD,EAAkC,+BAAlC,CAVD,EAWNC,MAAM,EAAE,KAXF,EAYNC,OAAO,EAAE,kTAZH,EAaNC,iBAAiB,EAAE,IAbb,EAcNC,SAAS,EAAC,EAdJ,EAgBNC,OAAO,EAAE,EAhBH,EAiBNC,gBAAgB,EAAE,KAjBZ,EAkBNC,SAAS,EAAE,KAlBL,EAmBNC,GAAG,EAAE,EAnBC,EAoBNC,QAAQ,EAAE,EApBJ,EAqBNC,SAAS,EAAE,EArBL,EAsBNC,gBAAgB,EAAE,EAtBZ,EAuBNC,IAAI,EAAE,EAvBA,EAwBNC,QAAQ,EAAE,KAxBJ,EAyBNC,GAAG,EAAC,CAzBE,EA2BNC,SAAS,EAAG,GA3BN,EA4BNC,SAAS,EAAG,EA5BN,EA6BNC,MAAM,EAAG,EA7BH,EA8BNC,MAAM,EAAE,EA9BF,EA+BNC,KAAK,EAAG,CA/BF,EAgCNC,MAAM,EAAE,CAhCF,EAiCNC,MAAM,EAAG,CAjCH,EAkCNC,OAAO,EAAE,CAlCH,EAmCNC,CAAC,EAAC,GAnCI,EAoCNC,CAAC,EAAC,CApCI,EAqCNC,EAAE,EAAC,CArCG,EAsCNC,KAAK,EAAC,EAtCA,EAuCNC,KAAK,EAAC,CAvCA,EAwCNC,KAAK,EAAC,CAxCA,EAyCNC,MAAM,EAAC,CAzCD,EAAP,CA2CA,CA9Ca,EA+CdC,MA/Cc,kBA+CPlC,MA/CO,EA+CC;AACdmC,OAAG,CAACC,OAAJ,CAAY;AACXC,SAAG,EAAE,sDADM;AAEXC,YAAM,EAAC,KAFI;AAGXC,aAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,YAAGA,GAAG,CAAC1C,IAAJ,CAAS2C,IAAT,IAAiB,GAApB,EAAwB;AACvB,cAAIC,GAAG,GAAGF,GAAG,CAAC1C,IAAJ,CAAS6C,IAAnB;AACA,eAAI,IAAIC,CAAC,GAAG,CAAZ,EAAcA,CAAC,GAACF,GAAG,CAACG,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC9BE,mBAAO,CAACC,IAAR,CAAa,KAAI,CAAC5C,KAAL,CAAWH,MAAM,CAACgD,IAAlB,IAAwB,KAAxB,GAA8BN,GAAG,CAACE,CAAD,CAAH,CAAOK,OAAlD;AACA,gBAAG,KAAI,CAAC9C,KAAL,CAAWH,MAAM,CAACgD,IAAlB,KAA2BN,GAAG,CAACE,CAAD,CAAH,CAAOK,OAArC,EAA6C;AAC5C,mBAAI,CAAC9B,SAAL,GAAiB,EAAjB;AACA,mBAAI,CAACE,MAAL,GAAcqB,GAAG,CAACE,CAAD,CAAH,CAAOM,MAArB;AACA,mBAAI,CAAC5B,MAAL,GAAcoB,GAAG,CAACE,CAAD,CAAH,CAAOO,MAArB;AACA,mBAAI,CAACxB,CAAL,GAASyB,QAAQ,CAACV,GAAG,CAACE,CAAD,CAAH,CAAOS,CAAR,CAAjB;AACA,mBAAI,CAACzB,CAAL,GAASwB,QAAQ,CAACV,GAAG,CAACE,CAAD,CAAH,CAAOU,CAAR,CAAjB;AACA,mBAAI,CAACtB,KAAL,GAAaU,GAAG,CAACE,CAAD,CAAH,CAAOZ,KAApB;AACA,mBAAI,CAACD,KAAL,GAAaW,GAAG,CAACE,CAAD,CAAH,CAAOb,KAApB;AACA;AACD;AACD;AACDe,eAAO,CAACS,GAAR,CAAY,KAAI,CAAC5B,CAAL,GAAO,MAAP,GAAc,KAAI,CAACC,CAA/B;AACA,OApBU,EAAZ;;AAsBA,SAAK5B,MAAL,GAAcA,MAAd;AACA,SAAKM,OAAL,GAAe,KAAKL,IAAL,CAAUD,MAAM,CAACgD,IAAjB,CAAf;AACA,SAAKxC,SAAL,GAAiB,KAAKL,KAAL,CAAWH,MAAM,CAACgD,IAAlB,CAAjB;AACAF,WAAO,CAACC,IAAR,CAAa/C,MAAb;AACA,SAAKwD,aAAL;AACAV,WAAO,CAACC,IAAR,CAAa,KAAKzC,OAAlB;;AAEA;AACA,QAAI,KAAJ,EAAW,EAyBV;AACD,GAxGa;AAyGdmD,SAAO,EAAE;AACRC,QADQ,kBACF;AACL,WAAK3D,KAAL,GAAa,KAAb;;AAEA,KAJO;AAKR4D,YALQ,sBAKE;AACT,WAAKC,MAAL;AACA,KAPO;;AASRC,WATQ,mBASAC,GATA,EASKC,GATL,EASUC,GATV,EASe;AACtB,WAAK,IAAIpB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,GAAG,CAACjB,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACpC,YAAIkB,GAAG,CAAClB,CAAD,CAAH,CAAOmB,GAAP,MAAgBC,GAApB,EAAyB;AACxB,iBAAOpB,CAAP;AACA;AACD;AACD,aAAO,CAAC,CAAR;AACA,KAhBO;AAiBRqB,UAjBQ,kBAiBDC,MAjBC,EAiBO;AACd,UAAIC,MAAM,GAAGC,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAoBC,IAApB;AACZ,UAAIC,UAAJ,CAAeN,MAAf,CADY;AAEZ,gBAASO,GAAT,EAAc;AACb,eAAO,CAAC,OAAOA,GAAG,CAACC,QAAJ,CAAa,EAAb,CAAR,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAP;AACA,OAJW,CAAb;;AAMA,aAAOR,MAAM,CAACS,IAAP,CAAY,EAAZ,CAAP;AACA,KAzBO;AA0BRC,UA1BQ,oBA0BC;AACR,UAAI,KAAKxE,MAAT,EAAiB;AAChB,aAAKyE,KAAL;AACA,aAAKzE,MAAL,GAAc,KAAd;AACA,OAHD,MAGO;AACN,aAAK0E,IAAL;AACA,aAAK1E,MAAL,GAAc,IAAd;AACA;AACD,WAAK2E,OAAL;AACA,KAnCO;AAoCRD,QAAI,EAAE,cAAUvC,GAAV,EAAe;AACpB,UAAG,CAAC,KAAKjC,iBAAT,EAA2B;AAC1B,aAAKA,iBAAL,GAAyB4B,GAAG,CAAC8C,uBAAJ,EAAzB;AACA,aAAK1E,iBAAL,CAAuB2E,QAAvB,GAAkC,IAAlC;AACA,aAAK3E,iBAAL,CAAuB4E,GAAvB,GAA6B,KAAK7E,OAAlC;AACA,aAAKC,iBAAL,CAAuB6E,MAAvB,CAA8B,YAAM;AAClCtC,iBAAO,CAACS,GAAR,CAAY,MAAZ;AACD,SAFD;AAGA,aAAKhD,iBAAL,CAAuB8E,OAAvB,CAA+B,UAAC7C,GAAD,EAAS;AACtCM,iBAAO,CAACS,GAAR,CAAYf,GAAG,CAAC8C,MAAhB;AACAxC,iBAAO,CAACS,GAAR,CAAYf,GAAG,CAAC+C,OAAhB;AACD,SAHD;AAIA,OAXD,MAWO;AACN,aAAKP,OAAL;AACA,aAAKzE,iBAAL,CAAuBwE,IAAvB;AACA;AACD,KApDO;AAqDRD,SAAK,EAAE,iBAAY;AAClB,UAAG,KAAKvE,iBAAR,EAA0B;AACzB,aAAKA,iBAAL,CAAuBuE,KAAvB;AACA,aAAKU,IAAL;AACA;AACD,KA1DO;;AA4DRC,cA5DQ,wBA4DI;AACXtD,SAAG,CAACC,OAAJ,CAAY;AACXC,WAAG,EAAE,sDADM;AAEXC,cAAM,EAAC,KAFI;AAGXC,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,iBAAO,CAACS,GAAR,CAAYf,GAAG,CAAC1C,IAAhB;AACA,SALU,EAAZ;;AAOA,KApEO;AAqER4F,YArEQ,sBAqEE;AACTvD,SAAG,CAACC,OAAJ,CAAY;AACXC,WAAG,EAAE,mDADM;AAEXC,cAAM,EAAC,KAFI;AAGXxC,YAAI,EAAE;AACL6F,mBAAS,EAAC,aADL,EAHK;;AAMXpD,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,iBAAO,CAACS,GAAR,CAAYf,GAAG,CAAC1C,IAAhB;AACA,SARU,EAAZ;;AAUA,KAhFO;AAiFR8F,UAjFQ,oBAiFA;AACPzD,SAAG,CAACC,OAAJ,CAAY;AACXC,WAAG,EAAE,oDADM;AAEXC,cAAM,EAAC,MAFI;AAGXxC,YAAI,EAAE;AACL6F,mBAAS,EAAC,aADL;AAELE,eAAK,EAAC,IAFD;AAGL7C,cAAI,EAAC,OAHA,EAHK;;AAQXT,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,iBAAO,CAACS,GAAR,CAAYf,GAAG,CAAC1C,IAAhB;AACA,SAVU,EAAZ;;AAYA,KA9FO;AA+FR0D,iBA/FQ,2BA+FO;AACd,WAAKsC,oBAAL;AACAhD,aAAO,CAACC,IAAR,CAAa,KAAKtC,OAAlB;;AAEA,KAnGO;AAoGR+E,QApGQ,kBAoGF;AACL,UAAG,KAAK1D,KAAR,EAAe;AACdiE,qBAAa,CAAC,KAAKjE,KAAN,CAAb;AACA,aAAKA,KAAL,GAAa,IAAb;AACA,aAAKkE,4BAAL;AACA;;;AAGD,KA5GO;AA6GRpC,UA7GQ,oBA6GA;AACP,UAAG,KAAK9B,KAAR,EAAe;AACdiE,qBAAa,CAAC,KAAKjE,KAAN,CAAb;AACA,aAAKA,KAAL,GAAa,IAAb;AACA,aAAKP,KAAL,GAAY,CAAZ;AACA,aAAKC,MAAL,GAAa,CAAb;AACA,aAAKC,MAAL,GAAa,CAAb;AACA,aAAKC,OAAL,GAAc,CAAd;AACA,aAAKG,EAAL,GAAQ,CAAR;AACA,aAAKiD,KAAL;AACA,aAAKkB,4BAAL;AACA7D,WAAG,CAAC8D,QAAJ,CAAa;AACT5D,aAAG,EAAE,cADI,EAAb;;AAGA;;;AAGD,KA9HO;AA+HR2C,WA/HQ,qBA+HC;AACR,WAAKkB,2BAAL;;AAEA,WAAKpE,KAAL,GAAaqE,WAAW,CAAC,YAAM;AAC9B,cAAI,CAACzE,OAAL,GAAe,MAAI,CAACA,OAAL,GAAa,CAA5B;AACA,YAAG,MAAI,CAACA,OAAL,GAAe,MAAI,CAACN,SAAvB,EAAiC;AAChC,gBAAI,CAACgF,4BAAL;AACA,gBAAI,CAACvE,EAAL,GAAQ,CAAR;AACA,SAHD,MAGK;AACJiB,iBAAO,CAACC,IAAR,CAAa,YAAU,MAAI,CAACvB,MAAf,GAAsB,aAAtB,GAAoC,MAAI,CAACO,KAAtD;AACAe,iBAAO,CAACC,IAAR,CAAa,MAAI,CAACvB,MAAL,GAAY,CAAZ,IAAiB,MAAI,CAACA,MAAL,GAAY,MAAI,CAACO,KAAjB,IAAwB,IAAE,MAAI,CAACA,KAAP,GAAa,CAAnE;AACA,cAAG,MAAI,CAACP,MAAL,GAAY,CAAZ,IAAiB,MAAI,CAACA,MAAL,GAAY,MAAI,CAACO,KAAjB,IAAwB,CAA5C,EAA8C;AAC7C,kBAAI,CAACE,MAAL,GAAc,MAAI,CAACA,MAAL,GAAY,CAA1B;AACA,gBAAG,MAAI,CAACA,MAAL,GAAY,CAAZ,IAAiB,MAAI,CAACA,MAAL,GAAY,MAAI,CAACD,KAAjB,IAAwB,CAA5C,EAA8C;AAC7C,oBAAI,CAACR,MAAL,GAAc,CAAd;AACA,oBAAI,CAACS,MAAL,GAAc,CAAd;AACA;AACD,WAND,MAMK;AACJ,kBAAI,CAACT,MAAL,GAAc,MAAI,CAACD,KAAL,GAAW,CAAzB;AACA,gBAAI8E,KAAK,GAAE,CAAC,MAAI,CAAChF,MAAL,GAAc,MAAI,CAACC,MAApB,IAA4B,MAAI,CAACE,MAA5C;AACA,gBAAI8E,KAAK,GAAE,CAAC,MAAI,CAACjF,MAAL,GAAc,MAAI,CAACC,MAApB,IAA4B,MAAI,CAACC,KAA5C;AACA,gBAAIgF,KAAK,GAAG,MAAI,CAACnF,SAAL,GAAekF,KAA3B;AACA,gBAAIE,KAAK,GAAG,MAAI,CAACpF,SAAL,GAAeiF,KAA3B;AACAvD,mBAAO,CAACC,IAAR,CAAa,iBAAe,MAAI,CAACrB,OAApB,GAA4B,WAA5B,GAAwC6E,KAAxC,GAA8C,YAA9C,GAA2DC,KAAxE;AACA,gBAAG,MAAI,CAAC9E,OAAL,GAAe6E,KAAf,IAAwB,MAAI,CAAC7E,OAAL,GAAe8E,KAA1C,EAAgD;AAC/C1D,qBAAO,CAACC,IAAR,CAAa,kBAAb;AACAD,qBAAO,CAACC,IAAR,CAAa,MAAI,CAAC7B,GAAL,GAAW,MAAI,CAACS,CAA7B;AACA,kBAAG,MAAI,CAACT,GAAL,GAAW,MAAI,CAACS,CAAnB,EAAqB;AACpBmB,uBAAO,CAACC,IAAR,CAAa,+BAAb;AACAD,uBAAO,CAACC,IAAR,CAAa,MAAI,CAACrB,OAAL,GAAe8E,KAAK,GAAG,MAAI,CAAC5E,CAAzC;AACA,oBAAG,MAAI,CAACF,OAAL,GAAe8E,KAAK,GAAG,MAAI,CAAC5E,CAA/B,EAAiC;AAChCkB,yBAAO,CAACC,IAAR,CAAa,0BAAb;AACAD,yBAAO,CAACC,IAAR,CAAa,MAAI,CAACxB,KAAL,GAAa,MAAI,CAACE,MAA/B;AACA,sBAAG,MAAI,CAACF,KAAL,GAAa,MAAI,CAACE,MAArB,EAA4B;AAC3B,0BAAI,CAACI,EAAL,GAAU,MAAI,CAACA,EAAL,GAAQ,CAAlB;AACA,0BAAI,CAACJ,MAAL,GAAc,MAAI,CAACA,MAAL,GAAc,MAAI,CAACF,KAAjC;AACA;AACD,iBAPD,MAOK;AACJ,sBAAG,MAAI,CAACA,KAAL,GAAa,MAAI,CAACE,MAArB,EAA4B;AAC3B,0BAAI,CAACI,EAAL,GAAU,MAAI,CAACA,EAAL,GAAQ,GAAlB;AACA,0BAAI,CAACJ,MAAL,GAAc,MAAI,CAACA,MAAL,GAAc,MAAI,CAACF,KAAjC;AACA;AACD;AACD;AACD,aApBD,MAoBK;AACJ,kBAAG,MAAI,CAACG,OAAL,IAAgB6E,KAAnB,EAAyB;AACxB,sBAAI,CAAChF,KAAL,GAAa,MAAI,CAACA,KAAL,GAAW,CAAxB;AACA;AACD,oBAAI,CAACE,MAAL,GAAc,CAAd;AACA;AACD;AACD;;AAED,YAAG,MAAI,CAACC,OAAL,IAAgB,MAAI,CAACP,SAAxB,EAAkC;AACjC,cAAIsF,QAAQ,GAAG,MAAI,CAAClF,KAApB;AACA,cAAImF,GAAG,GAAG,MAAI,CAAC7E,EAAL,GAAU4E,QAApB;AACA,cAAIE,IAAI,GAAGD,GAAG,GAAC,GAAf;AACA,gBAAI,CAAC7E,EAAL,GAAU+E,IAAI,CAACC,KAAL,CAAWF,IAAX,CAAV;AACA;;;;;AAKA7D,iBAAO,CAACC,IAAR,CAAa,MAAI,CAAClB,EAAlB;AACA,gBAAI,CAAC9B,KAAL,GAAa,IAAb;AACA,cAAM+G,IAAI,GAAEC,iBAAQC,QAAR,EAAZ;AACAlE,iBAAO,CAACC,IAAR,CAAagE,iBAAQC,QAAR,EAAb;AACA7E,aAAG,CAACC,OAAJ,CAAY;AACXC,eAAG,EAAE,oDADM;AAEXC,kBAAM,EAAC,MAFI;AAGXxC,gBAAI,EAAE;AACL6F,uBAAS,EAACmB,IAAI,CAACA,IAAI,CAACjE,MAAL,GAAa,CAAd,CAAJ,CAAqBoE,OAD1B;AAELpB,mBAAK,EAAC,MAAI,CAAChE,EAFN;AAGLmB,kBAAI,EAAC,MAAI,CAACxC,SAHL,EAHK;;AAQX+B,mBAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,qBAAO,CAACS,GAAR,CAAYf,GAAG,CAAC1C,IAAhB;AACA,aAVU,EAAZ;;;;AAcA,cAAG,MAAI,CAACgC,KAAR,EAAe;AACdiE,yBAAa,CAAC,MAAI,CAACjE,KAAN,CAAb;AACA,kBAAI,CAACA,KAAL,GAAa,IAAb;AACA,kBAAI,CAACP,KAAL,GAAY,CAAZ;AACA,kBAAI,CAACC,MAAL,GAAa,CAAb;AACA,kBAAI,CAACC,MAAL,GAAa,CAAb;AACA,kBAAI,CAACC,OAAL,GAAc,CAAd;AACA;AACD,gBAAI,CAACsE,4BAAL;AACA;AACD,OAxFuB,EAwFrB,IAxFqB,CAAxB;AAyFA,KA3NO,EA2NN;AACDF,wBA5NO,kCA4NgB;AACtB,UAAIoB,IAAI,GAAG,IAAX;AACA/E,SAAG,CAAC2D,oBAAJ,CAAyB;AACxBvD,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,iBAAO,CAACS,GAAR,CAAY,8BAAZ,EAA4Cf,GAA5C;AACA;AACAL,aAAG,CAACgF,wBAAJ,CAA6B,EAAE;AAC9B5E,mBAD4B,mBACpB6E,IADoB,EACd;AACbtE,qBAAO,CAACS,GAAR,CAAY6D,IAAZ,EAAkB,aAAlB;AACAF,kBAAI,CAACG,8BAAL;AACA,aAJ2B;AAK5BC,gBAL4B,gBAKvBC,KALuB,EAKhB;AACXpF,iBAAG,CAACqF,SAAJ,CAAc;AACVC,oBAAI,EAAE,MADI;AAEVtH,qBAAK,EAAE,YAFG;AAGVuH,wBAAQ,EAAE,IAHA,CAGI;AAHJ,eAAd;AAKA,aAX2B,EAA7B;;AAaA,SAjBuB;AAkBxBJ,YAAI,EAAE,cAAC9E,GAAD,EAAS;AACd,cAAIA,GAAG,CAAC+C,OAAJ,KAAgB,KAApB,EAA2B;AAC1BpD,eAAG,CAACqF,SAAJ,CAAc;AACVC,kBAAI,EAAE,MADI;AAEVtH,mBAAK,EAAE,YAFG;AAGVuH,sBAAQ,EAAE,IAHA,CAGI;AAHJ,aAAd;AAKA;AACAvF,eAAG,CAACwF,6BAAJ,CAAkC,UAASnF,GAAT,EAAc;AAC/CM,qBAAO,CAACS,GAAR,CAAY,+BAAZ,EAA6Cf,GAA7C;AACA,kBAAIA,GAAG,CAACoF,SAAR,EAAmB,CAAE;AACpBV,oBAAI,CAACG,8BAAL;AACA;AACD,aALD;AAMA;AACD,SAjCuB,EAAzB;;AAmCA,KAjQM;AAkQP;AACAA,kCAnQO,4CAmQ0B;AAChC,UAAI,KAAK3G,gBAAT,EAA2B;AAC1B;AACA;AACD,WAAKA,gBAAL,GAAwB,IAAxB;AACAyB,SAAG,CAACkF,8BAAJ,CAAmC;AAClCQ,0BAAkB,EAAE,IADc;AAElCtF,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,iBAAO,CAACS,GAAR,CAAY,wCAAZ,EAAsDf,GAAtD;AACA,gBAAI,CAACsF,sBAAL;AACA,SALiC,EAAnC;;AAOA,KA/QM;AAgRP;AACAC,iCAjRO,2CAiRyB;AAC/BC,QAAE,CAACD,6BAAH;AACA,KAnRM;AAoRP;AACAD,0BArRO,oCAqRkB;AACxB3F,SAAG,CAAC2F,sBAAJ,CAA2B,UAACtF,GAAD,EAAS;AACnCM,eAAO,CAACS,GAAR,CAAYf,GAAZ,EAAiB,wBAAjB;AACAA,WAAG,CAAC/B,OAAJ,CAAYwH,OAAZ,CAAoB,UAAAC,MAAM,EAAI;AAC7B,cAAI,CAACA,MAAM,CAAClH,IAAZ,EAAkB;AACjB;AACA;AACD,cAAGkH,MAAM,CAAClH,IAAP,IAAe,QAAlB,EAA2B;AAC1B,gBAAMmH,YAAY,GAAG,MAAI,CAAC1H,OAA1B;AACA,gBAAM2H,GAAG,GAAG,MAAI,CAACvE,OAAL,CAAasE,YAAb,EAA2B,UAA3B,EAAuCD,MAAM,CAACrH,QAA9C,CAAZ;AACAiC,mBAAO,CAACS,GAAR,CAAY6E,GAAZ,EAAiB,KAAjB;AACA,gBAAMtI,IAAI,GAAG,EAAb;AACA,gBAAIsI,GAAG,KAAK,CAAC,CAAb,EAAgB;AACf,oBAAI,CAAC3H,OAAL,CAAa4H,IAAb,CAAkBH,MAAlB;AACA,aAFD,MAEO;AACN,oBAAI,CAACzH,OAAL,CAAa2H,GAAb,IAAoBF,MAApB;AACA;AACDpF,mBAAO,CAACS,GAAR,CAAY,MAAI,CAAC9C,OAAjB,EAA0B,KAA1B;AACA,kBAAI,CAAC6H,mBAAL,CAAyBJ,MAAzB;AACA;AACD,SAjBD;AAkBA,OApBD;AAqBA,KA3SM;AA4SP;AACAI,uBA7SO,+BA6SaC,EA7Sb,EA6SiB;AACvB,UAAM1H,QAAQ,GAAG0H,EAAE,CAAC1H,QAApB;AACA,UAAMG,IAAI,GAAGuH,EAAE,CAACvH,IAAH,IAAWuH,EAAE,CAACC,SAA3B;AACArG,SAAG,CAACmG,mBAAJ,CAAwB;AACvBzH,gBAAQ,EAAEA,QADa;AAEvB0B,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,gBAAI,CAAC7B,SAAL,GAAiB,IAAjB;AACA,gBAAI,CAACK,IAAL,GAAYA,IAAZ;AACA,gBAAI,CAACH,QAAL,GAAgBA,QAAhB;AACA,gBAAI,CAAC4H,oBAAL,CAA0B5H,QAA1B;AACA,gBAAI,CAAC6H,KAAL,GAAa,KAAb;AACA,gBAAI,CAACC,IAAL,GAAY,IAAZ;AACAxG,aAAG,CAACqF,SAAJ,CAAc;AACVrH,iBAAK,EAAE,OAAK,MAAI,CAACa,IAAV,GAAe,IADZ;AAEVyG,gBAAI,EAAE,MAFI;AAGVC,oBAAQ,EAAE,IAHA,CAGI;AAHJ,WAAd;AAKA,gBAAI,CAACkB,IAAL,GAAY,IAAZ;AACA,SAfsB,EAAxB;;AAiBA,WAAKb,6BAAL;AACA,KAlUM;AAmUP;AACAc,sBApUO,gCAoUc;AACpB1G,SAAG,CAAC0G,kBAAJ,CAAuB;AACtBhI,gBAAQ,EAAE,KAAKA,QADO,EAAvB;;AAGA,WAAKF,SAAL,GAAiB,KAAjB;AACA,WAAKC,GAAL,GAAW,EAAX;AACA,WAAKK,QAAL,GAAgB,KAAhB;AACA,KA3UM;AA4UP;AACAwH,wBA7UO,gCA6Uc5H,QA7Ud,EA6UwB;AAC9BsB,SAAG,CAACsG,oBAAJ,CAAyB;AACxB5H,gBAAQ,EAARA,QADwB;AAExB0B,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,eAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,GAAG,CAACsG,QAAJ,CAAajG,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC7C,gBAAIJ,GAAG,CAACsG,QAAJ,CAAalG,CAAb,EAAgBmG,SAApB,EAA+B;AAC9B,oBAAI,CAACC,2BAAL,CAAiCnI,QAAjC,EAA2C2B,GAAG,CAACsG,QAAJ,CAAalG,CAAb,EAAgBqG,IAA3D;AACA;AACA;AACD;AACD,SATuB,EAAzB;;AAWA,KAzVM;AA0VP;AACAD,+BA3VO,uCA2VqBnI,QA3VrB,EA2V+BC,SA3V/B,EA2V0C;AAChDqB,SAAG,CAAC6G,2BAAJ,CAAgC;AAC/BnI,gBAAQ,EAARA,QAD+B;AAE/BC,iBAAS,EAATA,SAF+B;AAG/ByB,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,iBAAO,CAACS,GAAR,CAAY,qCAAZ,EAAmDf,GAAG,CAAC0G,eAAvD;AACA,eAAK,IAAItG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,GAAG,CAAC0G,eAAJ,CAAoBrG,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACpD,gBAAIuG,IAAI,GAAG3G,GAAG,CAAC0G,eAAJ,CAAoBtG,CAApB,CAAX;AACA,gBAAIuG,IAAI,CAACC,UAAL,CAAgBC,IAApB,EAA0B;AACzBlH,iBAAG,CAACmH,0BAAJ,CAA+B,EAAE;AAChCzI,wBAAQ,EAARA,QAD8B;AAE9BC,yBAAS,EAATA,SAF8B;AAG9BC,gCAAgB,EAAEoI,IAAI,CAACF,IAHO,EAA/B;;AAKA;AACD,gBAAIE,IAAI,CAACC,UAAL,CAAgBG,KAApB,EAA2B,CAAE;AAC5B,oBAAI,CAACtI,QAAL,GAAgB,IAAhB;AACA,oBAAI,CAACJ,QAAL,GAAgBA,QAAhB;AACA,oBAAI,CAACC,SAAL,GAAiBA,SAAjB;AACA,oBAAI,CAACC,gBAAL,GAAwBoI,IAAI,CAACF,IAA7B;AACA,oBAAI,CAAC/C,2BAAL;AACA;AACD,gBAAIiD,IAAI,CAACC,UAAL,CAAgBI,MAAhB,IAA0BL,IAAI,CAACC,UAAL,CAAgBK,QAA9C,EAAwD;AACvD3G,qBAAO,CAACC,IAAR,CAAa,6BAAb;AACAZ,iBAAG,CAACuH,kCAAJ,CAAuC,EAAE;AACxC7I,wBAAQ,EAARA,QADsC;AAEtCC,yBAAS,EAATA,SAFsC;AAGtCC,gCAAgB,EAAEoI,IAAI,CAACF,IAHe;AAItCU,qBAAK,EAAE,IAJ+B;AAKtCpH,uBAAO,EAAE,iBAACC,GAAD,EAAS;AACjBM,yBAAO,CAACS,GAAR,CAAYf,GAAZ;AACA;AACAM,yBAAO,CAACS,GAAR,CAAY,4CAAZ,EAA0Df,GAAG,CAAC8C,MAA9D;;AAEA,iBAVqC;AAWtCgC,oBAAI,EAAE,cAAC9E,GAAD,EAAS;AACdM,yBAAO,CAACS,GAAR,CAAY,6CAAZ,EAA2Df,GAAG,CAAC8C,MAA/D;AACA,iBAbqC,EAAvC;;AAeA;AACD;AACD,SAxC8B;AAyC/BgC,YAzC+B,gBAyC1B9E,GAzC0B,EAyCrB;AACTM,iBAAO,CAACyE,KAAR,CAAc,6BAAd,EAA6C/E,GAA7C;AACA,SA3C8B,EAAhC;;AA6CA;AACAL,SAAG,CAACyH,8BAAJ,CAAmC,UAACC,cAAD,EAAoB;AACtD,YAAIC,KAAK,GAAGD,cAAc,CAACC,KAA3B;AACA,YAAM5F,MAAM,GAAG,IAAIM,UAAJ,CAAesF,KAAf,CAAf;AACA,YAAM5I,GAAG,GAAGgD,MAAM,CAAC,CAAD,CAAN,GAAU,GAAV,GAAcA,MAAM,CAAC,CAAD,CAAhC;AACA,cAAI,CAAChD,GAAL,GAAWA,GAAX;AACA,YAAMkH,GAAG,GAAG,MAAI,CAACvE,OAAL,CAAa,MAAI,CAACjD,GAAlB,EAAuB,MAAvB,EAA+BiJ,cAAc,CAAC9I,gBAA9C,CAAZ;AACA,YAAMjB,IAAI,GAAG,EAAb;AACA,YAAIsI,GAAG,KAAK,CAAC,CAAb,EAAgB;AACf,gBAAI,CAACxH,GAAL,CAASyH,IAAT,CAAc;AACbY,gBAAI,EAAEY,cAAc,CAAC9I,gBADR;AAEb+I,iBAAK,EAAE,MAAI,CAAC7F,MAAL,CAAY4F,cAAc,CAACC,KAA3B,CAFM,EAAd;;AAIA,SALD,MAKO;AACN,gBAAI,CAAClJ,GAAL,CAASwH,GAAT,IAAgB;AACfa,gBAAI,EAAEY,cAAc,CAAC9I,gBADN;AAEf+I,iBAAK,EAAE,MAAI,CAAC7F,MAAL,CAAY4F,cAAc,CAACC,KAA3B,CAFQ,EAAhB;;AAIA;AACD,OAlBD;AAmBA,KA7ZM;AA8ZR5D,+BA9ZQ,yCA8ZsB,CAAE;AAC/B;AACA;AACA,UAAIhC,MAAM,GAAG,KAAK6F,sBAAL,CAA4B,gBAA5B,CAAb;AACA5H,SAAG,CAAC+D,2BAAJ,CAAgC;AAC/BrF,gBAAQ,EAAE,KAAKA,QADgB;AAE/BC,iBAAS,EAAE,KAAKA,SAFe;AAG/BC,wBAAgB,EAAE,KAAKA,gBAHQ;AAI/B+I,aAAK,EAAE5F,MAJwB;AAK/B3B,eAAO,EAAE,iBAASC,GAAT,EAAc;AACtBM,iBAAO,CAACS,GAAR,CAAY,qCAAZ,EAAmDf,GAAnD;AACA,SAP8B;AAQ/B8E,YAAI,EAAE,cAAS0C,GAAT,EAAc;AACnBlH,iBAAO,CAACS,GAAR,CAAYyG,GAAZ,EAAiB,iBAAjB;AACA,SAV8B,EAAhC;;AAYA,KA9aO;AA+aR5D,gCA/aQ,0CA+auB,CAAE;AAChC;AACA;AACA,UAAIlC,MAAM,GAAG,KAAK6F,sBAAL,CAA4B,gBAA5B,CAAb;AACA5H,SAAG,CAAC+D,2BAAJ,CAAgC;AAC/BrF,gBAAQ,EAAE,KAAKA,QADgB;AAE/BC,iBAAS,EAAE,KAAKA,SAFe;AAG/BC,wBAAgB,EAAE,KAAKA,gBAHQ;AAI/B+I,aAAK,EAAE5F,MAJwB;AAK/B3B,eAAO,EAAE,iBAASC,GAAT,EAAc;AACtBM,iBAAO,CAACS,GAAR,CAAY,qCAAZ,EAAmDf,GAAnD;AACA,SAP8B;AAQ/B8E,YAAI,EAAE,cAAS0C,GAAT,EAAc;AACnBlH,iBAAO,CAACS,GAAR,CAAYyG,GAAZ,EAAiB,iBAAjB;AACA,SAV8B,EAAhC;;AAYA,KA/bO;AAgcRhE,gCAhcQ,0CAgcuB,CAAE;AAChC;AACA;AACA,UAAI9B,MAAM,GAAG,KAAK6F,sBAAL,CAA4B,gBAA5B,CAAb;AACA5H,SAAG,CAAC+D,2BAAJ,CAAgC;AAC/BrF,gBAAQ,EAAE,KAAKA,QADgB;AAE/BC,iBAAS,EAAE,KAAKA,SAFe;AAG/BC,wBAAgB,EAAE,KAAKA,gBAHQ;AAI/B+I,aAAK,EAAE5F,MAJwB;AAK/B3B,eAAO,EAAE,iBAASC,GAAT,EAAc;AACtBM,iBAAO,CAACS,GAAR,CAAY,qCAAZ,EAAmDf,GAAnD;AACA,SAP8B;AAQ/B8E,YAAI,EAAE,cAAS0C,GAAT,EAAc;AACnBlH,iBAAO,CAACS,GAAR,CAAYyG,GAAZ,EAAiB,iBAAjB;AACA,SAV8B,EAAhC;;AAYA,KAhdO;AAidRC,yBAjdQ,mCAidgB;AACvB9H,SAAG,CAAC8H,qBAAJ;AACA,WAAKvJ,gBAAL,GAAwB,KAAxB;AACA,KApdO;AAqdR;AACAqJ,0BAtdQ,kCAsdeG,GAtdf,EAsdoB;AAC3B,UAAI,CAACA,GAAL,EAAU;AACT,eAAO,IAAIC,WAAJ,CAAgB,CAAhB,CAAP;AACA;AACD,UAAIjG,MAAM,GAAG,IAAIiG,WAAJ,CAAgBD,GAAG,CAACrH,MAApB,CAAb;AACA,UAAIuH,QAAQ,GAAG,IAAIC,QAAJ,CAAanG,MAAb,CAAf;AACA,UAAIoG,GAAG,GAAG,CAAV;AACA,WAAK,IAAI1H,CAAC,GAAG,CAAR,EAAW2H,GAAG,GAAGL,GAAG,CAACrH,MAA1B,EAAkCD,CAAC,GAAG2H,GAAtC,EAA2C3H,CAAC,IAAI,CAAhD,EAAmD;AAClD,YAAIH,IAAI,GAAGW,QAAQ,CAAC8G,GAAG,CAACM,MAAJ,CAAW5H,CAAX,EAAc,CAAd,CAAD,EAAmB,EAAnB,CAAnB;AACAwH,gBAAQ,CAACK,QAAT,CAAkBH,GAAlB,EAAuB7H,IAAvB;AACA6H,WAAG;AACH;AACD,aAAOpG,MAAP;AACA,KAneO,EAzGK,E;;;;;;;;;;;;;ACnDf;AAAA;AAAA;AAAA;AAAg1B,CAAgB,uxBAAG,EAAC,C;;;;;;;;;;;ACAp2B,uC","file":"pages/main/train.js","sourcesContent":["import { render, staticRenderFns } from \"./train.vue?vue&type=template&id=1ab2d66c&\"\nimport script from \"./train.vue?vue&type=script&lang=js&\"\nexport * from \"./train.vue?vue&type=script&lang=js&\"\nimport style0 from \"./train.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1ab2d66c', component.options)\n    } else {\n      api.reload('1ab2d66c', component.options)\n    }\n    module.hot.accept(\"./train.vue?vue&type=template&id=1ab2d66c&\", function () {\n      api.rerender('1ab2d66c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/zkxl/Downloads/chubby/pages/main/train.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=template&id=1ab2d66c&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport { mapState } from 'vuex';\r\nimport service from '../../service.js';\r\nexport default {\r\n\tcomputed: mapState(['forcedLogin', 'hasLogin', 'userName']),\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tclose: false,\r\n\t\t\toption: {},\r\n\t\t\tmp3s: ['http://212.129.131.163:9000/temp-bucket/audio/zj_fa1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T031957Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=27af2b18f8225e9cde25cccd6a859c53c7dead7552b8a46b5257f6c73e82f4af', \r\n\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/cj_fa.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T032014Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=601863903bc2552de202b7e4a99bc751544ce8b00c07a7aeb09fb35829c16f82', \r\n\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/zj_fa2_2.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T031927Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=9c2b7158d36a7111c4990a7ac85d6a6b286a742b3c3d2f75b7addb8e9b942e58', \r\n\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/gj_fa1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T032040Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=c812c3ba8f9d3554cee5a2a494c7d9d4ddf97a9cf7ccd800fbb9a5fe99584dc2', \r\n\t\t\t'http://212.129.131.163:9000/temp-bucket/audio/gj_fa2_2.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T032029Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=fae231ca5bd440dd8fa83e2fe2bb96d1c45c48a065dd92cc86df845ed4772563'],\r\n\t\t\tmp3: '',\r\n\t\t\ttitle:['初级训练','中级训练一','中级训练二','高级训练一','高级训练二'],\r\n\t\t\tonOff: ['../../static/img2/bofang2.png', '../../static/img2/bofang1.png'],\r\n\t\t\tbofang: false,\r\n\t\t\tdataUrl: 'http://212.129.131.163:9000/temp-bucket/audio/zj_fa1.mp3?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=beliefLs%2F20200529%2F%2Fs3%2Faws4_request&X-Amz-Date=20200529T031957Z&X-Amz-Expires=432000&X-Amz-SignedHeaders=host&X-Amz-Signature=27af2b18f8225e9cde25cccd6a859c53c7dead7552b8a46b5257f6c73e82f4af',\r\n\t\t\tinnerAudioContext: null,\r\n\t\t\tdatatitle:'',\r\n\t\t\t\r\n\t\t\tdevices: [],\r\n\t\t\tdiscoveryStarted: false,\r\n\t\t\tconnected: false,\r\n\t\t\tchs: [],\r\n\t\t\tdeviceId: \"\",\r\n\t\t\tserviceId: \"\",\r\n\t\t\tcharacteristicId: \"\",\r\n\t\t\tname: \"\",\r\n\t\t\tcanWrite: false,\r\n\t\t\tnum:0,\r\n\t\t\t\r\n\t\t\tcountTime : 120,\r\n\t\t\tbeginTime : 15,\r\n\t\t\tsjTime : 10,\r\n\t\t\tfsTime: 10,\r\n\t\t\tcount : 1,\r\n\t\t\tcount1 :0,\r\n\t\t\tcount2 : 0,\r\n\t\t\tnowTime: 0,\r\n\t\t\tH:150,\r\n\t\t\tX:2,\r\n\t\t\tfs:0,\r\n\t\t\ttimer:'',\r\n\t\t\tffnum:0,\r\n\t\t\txxnum:0,\r\n\t\t\txxTime:0,\r\n\t\t};\r\n\t},\r\n\tonLoad(option) {\r\n\t\tuni.request({\r\n\t\t\turl: 'http://10.0.0.22:8080/system/setting/getSetting/list',\r\n\t\t\tmethod:'GET',\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif(res.data.code == 200){\r\n\t\t\t\t\tvar row = res.data.rows;\r\n\t\t\t\t\tfor(var i = 0;i<row.length;i++){\r\n\t\t\t\t\t\tconsole.info(this.title[option.type]+\"___\"+row[i].setting)\r\n\t\t\t\t\t\tif(this.title[option.type] == row[i].setting){\r\n\t\t\t\t\t\t\tthis.countTime = 20;\r\n\t\t\t\t\t\t\tthis.sjTime = row[i].sjtime;\r\n\t\t\t\t\t\t\tthis.fsTime = row[i].fstime;\r\n\t\t\t\t\t\t\tthis.H = parseInt(row[i].h);\r\n\t\t\t\t\t\t\tthis.X = parseInt(row[i].x);\r\n\t\t\t\t\t\t\tthis.xxnum = row[i].xxnum;\r\n\t\t\t\t\t\t\tthis.ffnum = row[i].ffnum;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.H+\"____\"+this.X);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.option = option;\r\n\t\tthis.dataUrl = this.mp3s[option.type];\r\n\t\tthis.datatitle = this.title[option.type];\r\n\t\tconsole.info(option);\r\n\t\tthis.linkBluetooth();\r\n\t\tconsole.info(this.dataUrl)\r\n\t\t\r\n\t\t//if (!this.hasLogin) {\r\n\t\tif (false) {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '未登录',\r\n\t\t\t\tcontent: '您未登录，需要登录后才能继续',\r\n\t\t\t\t/**\r\n\t\t\t\t * 如果需要强制登录，不显示取消按钮\r\n\t\t\t\t */\r\n\t\t\t\tshowCancel: !this.forcedLogin,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t * 如果需要强制登录，使用reLaunch方式\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tif (this.forcedLogin) {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl: '../login/login'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tcxcs(){\r\n\t\t\tthis.close = false;\r\n\t\t\t\r\n\t\t},\r\n\t\tclosedom(){\r\n\t\t\tthis.stopdl();\r\n\t\t},\r\n\t\t\r\n\t\tinArray(arr, key, val) {\r\n\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\tif (arr[i][key] === val) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t},\r\n\t\tab2hex(buffer) {\r\n\t\t\tvar hexArr = Array.prototype.map.call(\r\n\t\t\t\tnew Uint8Array(buffer),\r\n\t\t\t\tfunction(bit) {\r\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\treturn hexArr.join('');\r\n\t\t},\r\n\t\tboFang() {\r\n\t\t\tif (this.bofang) {\r\n\t\t\t\tthis.pause();\r\n\t\t\t\tthis.bofang = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.play();\r\n\t\t\t\tthis.bofang = true\r\n\t\t\t}\r\n\t\t\tthis.begindl();\r\n\t\t},\r\n\t\tplay: function (res) {\r\n\t\t\tif(!this.innerAudioContext){\r\n\t\t\t\tthis.innerAudioContext = uni.createInnerAudioContext();\r\n\t\t\t\tthis.innerAudioContext.autoplay = true;\r\n\t\t\t\tthis.innerAudioContext.src = this.dataUrl;\r\n\t\t\t\tthis.innerAudioContext.onPlay(() => {\r\n\t\t\t\t  console.log('开始播放');\r\n\t\t\t\t});\r\n\t\t\t\tthis.innerAudioContext.onError((res) => {\r\n\t\t\t\t  console.log(res.errMsg);\r\n\t\t\t\t  console.log(res.errCode);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.begindl();\r\n\t\t\t\tthis.innerAudioContext.play()\r\n\t\t\t}\r\n\t\t},\r\n\t\tpause: function () {\r\n\t\t\tif(this.innerAudioContext){\r\n\t\t\t\tthis.innerAudioContext.pause();\r\n\t\t\t\tthis.ztdl();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tgetsetting(){\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'http://10.0.0.22:8080/system/setting/getSetting/list',\r\n\t\t\t\tmethod:'GET',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tgetscore(){\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'http://10.0.0.22:8080/system/score/uniApp/getlist',\r\n\t\t\t\tmethod:'GET',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tuserphone:\"15951920943\"\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tbaocun(){\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'http://10.0.0.22:8080/system/score/uniApp/addScore',\r\n\t\t\t\tmethod:'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tuserphone:\"15951920943\",\r\n\t\t\t\t\tscore:\"80\",\r\n\t\t\t\t\ttype:\"中级训练一\"\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tlinkBluetooth(){\r\n\t\t\tthis.openBluetoothAdapter();\r\n\t\t\tconsole.info(this.devices);\r\n\t\t\t\r\n\t\t},\r\n\t\tztdl(){\r\n\t\t\tif(this.timer) {\r\n\t\t\t\tclearInterval(this.timer);  \r\n\t\t\t\tthis.timer = null; \r\n\t\t\t\tthis.writeBLECharacteristicValue3();\r\n\t\t\t}  \r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tstopdl(){\r\n\t\t\tif(this.timer) {\r\n\t\t\t\tclearInterval(this.timer);  \r\n\t\t\t\tthis.timer = null; \r\n\t\t\t\tthis.count =1;\r\n\t\t\t\tthis.count1 =0;\r\n\t\t\t\tthis.count2 =0;\r\n\t\t\t\tthis.nowTime =0;\r\n\t\t\t\tthis.fs=0;\r\n\t\t\t\tthis.pause();\r\n\t\t\t\tthis.writeBLECharacteristicValue3();\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t    url: '../main/main'\r\n\t\t\t\t});\r\n\t\t\t}  \r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tbegindl(){\r\n\t\t\tthis.writeBLECharacteristicValue();\r\n\t\t\t\r\n\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\tthis.nowTime = this.nowTime+1;\r\n\t\t\t\tif(this.nowTime < this.beginTime){\r\n\t\t\t\t\tthis.writeBLECharacteristicValue2();\r\n\t\t\t\t\tthis.fs=0;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.info(\"count1:\"+this.count1+\" ____ffnum:\"+this.ffnum);\r\n\t\t\t\t\tconsole.info(this.count1>0 && this.count1%this.ffnum==0%this.ffnum>0);\r\n\t\t\t\t\tif(this.count1>0 && this.count1%this.ffnum==0){\r\n\t\t\t\t\t\tthis.xxTime = this.xxTime+1;\r\n\t\t\t\t\t\tif(this.xxTime>0 && this.xxTime%this.xxnum==0){\r\n\t\t\t\t\t\t\tthis.count1 = 0;\r\n\t\t\t\t\t\t\tthis.xxTime = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.count1 = this.count-1;\r\n\t\t\t\t\t\tlet time1= (this.sjTime + this.fsTime)*this.count1;\r\n\t\t\t\t\t\tlet time2= (this.sjTime + this.fsTime)*this.count;\r\n\t\t\t\t\t\tlet time3 = this.beginTime+time2;\r\n\t\t\t\t\t\tlet time4 = this.beginTime+time1;\r\n\t\t\t\t\t\tconsole.info(\"this.nowTime\"+this.nowTime+\"____time3\"+time3+\"_____time4\"+time4)\r\n\t\t\t\t\t\tif(this.nowTime < time3 && this.nowTime > time4){\r\n\t\t\t\t\t\t\tconsole.info(\"this.num >this.H\")\r\n\t\t\t\t\t\t\tconsole.info(this.num > this.H);\r\n\t\t\t\t\t\t\tif(this.num > this.H){\r\n\t\t\t\t\t\t\t\tconsole.info(\"this.nowTime < time4 + this.X\")\r\n\t\t\t\t\t\t\t\tconsole.info(this.nowTime < time4 + this.X);\r\n\t\t\t\t\t\t\t\tif(this.nowTime < time4 + this.X){\r\n\t\t\t\t\t\t\t\t\tconsole.info(\"this.count > this.count2\")\r\n\t\t\t\t\t\t\t\t\tconsole.info(this.count > this.count2);\r\n\t\t\t\t\t\t\t\t\tif(this.count > this.count2){\r\n\t\t\t\t\t\t\t\t\t\tthis.fs = this.fs+1;\r\n\t\t\t\t\t\t\t\t\t\tthis.count2 = this.count2 + this.count;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tif(this.count > this.count2){\r\n\t\t\t\t\t\t\t\t\t\tthis.fs = this.fs+0.5;\r\n\t\t\t\t\t\t\t\t\t\tthis.count2 = this.count2 + this.count;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(this.nowTime == time3){\r\n\t\t\t\t\t\t\t\tthis.count = this.count+1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.count2 = 0;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(this.nowTime == this.countTime){\r\n\t\t\t\t\tlet countNum = this.count;\r\n\t\t\t\t\tlet jcf = this.fs / countNum;\r\n\t\t\t\t\tlet endf = jcf*100;\r\n\t\t\t\t\tthis.fs = Math.round(endf);\r\n\t\t\t\t\t/* uni.showToast({\r\n\t\t\t\t\t    title: \"最后得分：\"+realVal,\r\n\t\t\t\t\t    icon: 'none',\r\n\t\t\t\t\t    duration: 2000//提示的延迟时间，单位毫秒，默认：1500\r\n\t\t\t\t\t}); */\r\n\t\t\t\t\tconsole.info(this.fs);\r\n\t\t\t\t\tthis.close = true;\r\n\t\t\t\t\tconst user= service.getUsers();\r\n\t\t\t\t\tconsole.info(service.getUsers());\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'http://10.0.0.22:8080/system/score/uniApp/addScore',\r\n\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tuserphone:user[user.length -1].account,\r\n\t\t\t\t\t\t\tscore:this.fs,\r\n\t\t\t\t\t\t\ttype:this.datatitle\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.timer) {\r\n\t\t\t\t\t\tclearInterval(this.timer);  \r\n\t\t\t\t\t\tthis.timer = null; \r\n\t\t\t\t\t\tthis.count =1;\r\n\t\t\t\t\t\tthis.count1 =0;\r\n\t\t\t\t\t\tthis.count2 =0;\r\n\t\t\t\t\t\tthis.nowTime =0;\r\n\t\t\t\t\t}  \r\n\t\t\t\t\tthis.writeBLECharacteristicValue3();\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t},// 初始化蓝牙模块\r\n\t\t\topenBluetoothAdapter() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.openBluetoothAdapter({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\r\n\t\t\t\t\t\t//获取本机蓝牙适配器状态\r\n\t\t\t\t\t\tuni.getBluetoothAdapterState({ //蓝牙的匹配状态\r\n\t\t\t\t\t\t\tsuccess(res1) {\r\n\t\t\t\t\t\t\t\tconsole.log(res1, \"本机设备的的蓝牙已打开\")\r\n\t\t\t\t\t\t\t\tthat.startBluetoothDevicesDiscovery()\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(error) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t    icon: \"none\",\r\n\t\t\t\t\t\t\t\t    title: \"查看手机蓝牙是否打开\",\r\n\t\t\t\t\t\t\t\t    duration: 3000//提示的延迟时间，单位毫秒，默认：1500\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tif (res.errCode === 10001) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t    icon: \"none\",\r\n\t\t\t\t\t\t\t    title: \"查看手机蓝牙是否打开\",\r\n\t\t\t\t\t\t\t    duration: 3000//提示的延迟时间，单位毫秒，默认：1500\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t//监听蓝牙适配器状态变化事件\r\n\t\t\t\t\t\t\tuni.onBluetoothAdapterStateChange(function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log('onBluetoothAdapterStateChange', res)\r\n\t\t\t\t\t\t\t\tif (res.available) { //手机蓝牙已经打开\r\n\t\t\t\t\t\t\t\t\tthat.startBluetoothDevicesDiscovery()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 开始搜寻附近的蓝牙外围设备。此操作比较耗费系统资源，请在搜索并连接到设备后调用 wx.stopBluetoothDevicesDiscovery 方法停止搜\r\n\t\t\tstartBluetoothDevicesDiscovery() {\r\n\t\t\t\tif (this.discoveryStarted) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.discoveryStarted = true\r\n\t\t\t\tuni.startBluetoothDevicesDiscovery({\r\n\t\t\t\t\tallowDuplicatesKey: true,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\r\n\t\t\t\t\t\tthis.onBluetoothDeviceFound()\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//停止搜寻附近的蓝牙外围设备。若已经找到需要的蓝牙设备并不需要继续搜索时，建议调用该接口停止蓝牙搜索\r\n\t\t\tstopBluetoothDevicesDiscovery() {\r\n\t\t\t\twx.stopBluetoothDevicesDiscovery()\r\n\t\t\t},\r\n\t\t\t// 监听寻找到新设备的事件\r\n\t\t\tonBluetoothDeviceFound() {\r\n\t\t\t\tuni.onBluetoothDeviceFound((res) => {\r\n\t\t\t\t\tconsole.log(res, \"onBluetoothDeviceFound\")\r\n\t\t\t\t\tres.devices.forEach(device => {\r\n\t\t\t\t\t\tif (!device.name) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(device.name == 'JDY-23'){\r\n\t\t\t\t\t\t\tconst foundDevices = this.devices\r\n\t\t\t\t\t\t\tconst idx = this.inArray(foundDevices, 'deviceId', device.deviceId)\r\n\t\t\t\t\t\t\tconsole.log(idx, \"idx\");\r\n\t\t\t\t\t\t\tconst data = {}\r\n\t\t\t\t\t\t\tif (idx === -1) {\r\n\t\t\t\t\t\t\t\tthis.devices.push(device);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.devices[idx] = device\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(this.devices, \"idx\");\r\n\t\t\t\t\t\t\tthis.createBLEConnection(device);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 连接低功耗蓝牙设备。deviceId用于区分设备的 id\r\n\t\t\tcreateBLEConnection(ds) {\r\n\t\t\t\tconst deviceId = ds.deviceId\r\n\t\t\t\tconst name = ds.name || ds.localName;\r\n\t\t\t\tuni.createBLEConnection({\r\n\t\t\t\t\tdeviceId: deviceId,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.connected = true;\r\n\t\t\t\t\t\tthis.name = name;\r\n\t\t\t\t\t\tthis.deviceId = deviceId;\r\n\t\t\t\t\t\tthis.getBLEDeviceServices(deviceId);\r\n\t\t\t\t\t\tthis.onfff = false;\r\n\t\t\t\t\t\tthis.onNo = true;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t    title: \"连接\"+this.name+\"成功\",\r\n\t\t\t\t\t\t    icon: 'none',\r\n\t\t\t\t\t\t    duration: 2000//提示的延迟时间，单位毫秒，默认：1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.conn = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.stopBluetoothDevicesDiscovery()\r\n\t\t\t},\r\n\t\t\t// 断开与低功耗蓝牙设备的连接。 deviceId用于区分设备的 id\r\n\t\t\tcloseBLEConnection() {\r\n\t\t\t\tuni.closeBLEConnection({\r\n\t\t\t\t\tdeviceId: this.deviceId\r\n\t\t\t\t})\r\n\t\t\t\tthis.connected = false;\r\n\t\t\t\tthis.chs = [];\r\n\t\t\t\tthis.canWrite = false;\r\n\t\t\t},\r\n\t\t\t//获取蓝牙设备所有服务(service)。 deviceId蓝牙设备 id\r\n\t\t\tgetBLEDeviceServices(deviceId) {\r\n\t\t\t\tuni.getBLEDeviceServices({\r\n\t\t\t\t\tdeviceId,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\r\n\t\t\t\t\t\t\tif (res.services[i].isPrimary) {\r\n\t\t\t\t\t\t\t\tthis.getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取蓝牙设备某个服务中所有特征值(characteristic)\r\n\t\t\tgetBLEDeviceCharacteristics(deviceId, serviceId) {\r\n\t\t\t\tuni.getBLEDeviceCharacteristics({\r\n\t\t\t\t\tdeviceId,\r\n\t\t\t\t\tserviceId,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('getBLEDeviceCharacteristics success', res.characteristics)\r\n\t\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\r\n\t\t\t\t\t\t\tlet item = res.characteristics[i]\r\n\t\t\t\t\t\t\tif (item.properties.read) {\r\n\t\t\t\t\t\t\t\tuni.readBLECharacteristicValue({ //读取低功耗蓝牙设备的特征值的二进制数据值\r\n\t\t\t\t\t\t\t\t\tdeviceId,\r\n\t\t\t\t\t\t\t\t\tserviceId,\r\n\t\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (item.properties.write) { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\r\n\t\t\t\t\t\t\t\tthis.canWrite = true;\r\n\t\t\t\t\t\t\t\tthis.deviceId = deviceId;\r\n\t\t\t\t\t\t\t\tthis.serviceId = serviceId;\r\n\t\t\t\t\t\t\t\tthis.characteristicId = item.uuid;\r\n\t\t\t\t\t\t\t\tthis.writeBLECharacteristicValue();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (item.properties.notify || item.properties.indicate) {\r\n\t\t\t\t\t\t\t\tconsole.info(\"启用低功耗蓝牙设备特征值变化时的 notify 功能s\")\r\n\t\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({ //启用低功耗蓝牙设备特征值变化时的 notify 功能，订阅特征值。注意：必须设备的特征值支持 notify 或者 indicate 才可以成功调用。\r\n\t\t\t\t\t\t\t\t\tdeviceId,\r\n\t\t\t\t\t\t\t\t\tserviceId,\r\n\t\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\r\n\t\t\t\t\t\t\t\t\tstate: true,\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t// console.log(this.characteristicId)\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('notifyBLECharacteristicValueChange success', res.errMsg)\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('notifyBLECharacteristicValueChange success2', res.errMsg)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 操作之前先监听，保证第一时间获取数据\r\n\t\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\r\n\t\t\t\t\tlet value = characteristic.value;\r\n\t\t\t\t\tconst buffer = new Uint8Array(value)\r\n\t\t\t\t\tconst num = buffer[3]*100+buffer[4];\r\n\t\t\t\t\tthis.num = num;\r\n\t\t\t\t\tconst idx = this.inArray(this.chs, 'uuid', characteristic.characteristicId)\r\n\t\t\t\t\tconst data = {}\r\n\t\t\t\t\tif (idx === -1) {\r\n\t\t\t\t\t\tthis.chs.push({\r\n\t\t\t\t\t\t\tuuid: characteristic.characteristicId,\r\n\t\t\t\t\t\t\tvalue: this.ab2hex(characteristic.value)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.chs[idx] = {\r\n\t\t\t\t\t\t\tuuid: characteristic.characteristicId,\r\n\t\t\t\t\t\t\tvalue: this.ab2hex(characteristic.value)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\twriteBLECharacteristicValue() { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\r\n\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\r\n\t\t\t// let buffer =this.hexStringToArrayBuffer(\"AAAA20201015555\");\r\n\t\t\tlet buffer = this.hexStringToArrayBuffer(\"457a000100467b\");\r\n\t\t\tuni.writeBLECharacteristicValue({\r\n\t\t\t\tdeviceId: this.deviceId,\r\n\t\t\t\tserviceId: this.serviceId,\r\n\t\t\t\tcharacteristicId: this.characteristicId,\r\n\t\t\t\tvalue: buffer,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log('writeBLECharacteristicValue success', res)\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(err) {\r\n\t\t\t\t\tconsole.log(err, \"errerrerrerrerr\")\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\twriteBLECharacteristicValue2() { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\r\n\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\r\n\t\t\t// let buffer =this.hexStringToArrayBuffer(\"AAAA20201015555\");\r\n\t\t\tlet buffer = this.hexStringToArrayBuffer(\"457a010100467b\");\r\n\t\t\tuni.writeBLECharacteristicValue({\r\n\t\t\t\tdeviceId: this.deviceId,\r\n\t\t\t\tserviceId: this.serviceId,\r\n\t\t\t\tcharacteristicId: this.characteristicId,\r\n\t\t\t\tvalue: buffer,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log('writeBLECharacteristicValue success', res)\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(err) {\r\n\t\t\t\t\tconsole.log(err, \"errerrerrerrerr\")\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\twriteBLECharacteristicValue3() { //向低功耗蓝牙设备特征值中写入二进制数据。注意：必须设备的特征值支持 write 才可以成功调用\r\n\t\t\t// 向蓝牙设备发送一个0x00的16进制数据\r\n\t\t\t// let buffer =this.hexStringToArrayBuffer(\"AAAA20201015555\");\r\n\t\t\tlet buffer = this.hexStringToArrayBuffer(\"457a030100467b\");\r\n\t\t\tuni.writeBLECharacteristicValue({\r\n\t\t\t\tdeviceId: this.deviceId,\r\n\t\t\t\tserviceId: this.serviceId,\r\n\t\t\t\tcharacteristicId: this.characteristicId,\r\n\t\t\t\tvalue: buffer,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tconsole.log('writeBLECharacteristicValue success', res)\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(err) {\r\n\t\t\t\t\tconsole.log(err, \"errerrerrerrerr\")\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tcloseBluetoothAdapter() {\r\n\t\t\tuni.closeBluetoothAdapter()\r\n\t\t\tthis.discoveryStarted = false\r\n\t\t},\r\n\t\t//向蓝牙设备发送一个0x00的16进制数据\r\n\t\thexStringToArrayBuffer(str) {\r\n\t\t\tif (!str) {\r\n\t\t\t\treturn new ArrayBuffer(0);\r\n\t\t\t}\r\n\t\t\tvar buffer = new ArrayBuffer(str.length);\r\n\t\t\tlet dataView = new DataView(buffer)\r\n\t\t\tlet ind = 0;\r\n\t\t\tfor (var i = 0, len = str.length; i < len; i += 2) {\r\n\t\t\t\tlet code = parseInt(str.substr(i, 2), 16)\r\n\t\t\t\tdataView.setUint8(ind, code)\r\n\t\t\t\tind++\r\n\t\t\t}\r\n\t\t\treturn buffer;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t},\r\n};\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./train.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}